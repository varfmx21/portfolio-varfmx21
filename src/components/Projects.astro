---
import { date } from "astro:schema"
import GitHubIcon from "../icons/GitHub.astro"
import TailwindIcon from "../icons/Tailwind.astro"
import LinuxIcon from "../icons/LinuxIcon.astro"
import NetworkingIcon from "../icons/NetworkingIcon.astro"
import DockerIcon from "../icons/DockerIcon.astro"
import CloudflareIcon from "../icons/CloudflareIcon.astro"
import CiscoIcon from "../icons/CiscoIcon.astro"
import ReactIcon from "../icons/ReactIcon.astro"
import TypeScriptIcon from "../icons/TypeScriptIcon.astro"
import SupabaseIcon from "../icons/SupabaseIcon.astro"
import NextJSIcon from "../icons/NextJSIcon.astro"
import PostgresqlIcon from "../icons/PostgresqlIcon.astro"
import { baseService } from "astro/assets"
import BashIcon from "../icons/BashIcon.astro"
import AstroIcon from "../icons/AstroIcon.astro"

const TAGS = {
    TAILWIND: {
        name: "Tailwind CSS",
        class: "bg-purple-500/20 text-purple-200",
        icon: TailwindIcon
    },
    LINUX : {
        name: "Linux",
        class: "bg-green-500/20 text-green-200",
        icon: LinuxIcon
    },
    NETWORKING: {
        name: "Networking",
        class: "bg-blue-500/20 text-blue-200",
        icon: NetworkingIcon
    },
    DOCKER: {
        name: "Docker",
        class: "bg-cyan-500/20 text-cyan-200",
        icon: DockerIcon
    },
    CLOUDFARE: {
        name: "Cloudflare",
        class: "bg-yellow-500/20 text-yellow-200",
        icon: CloudflareIcon
    },
    CISCO: {
        name: "Cisco",
        class: "bg-gray-500/20 text-gray-200",
        icon: CiscoIcon
    },
    REACT: {
        name: "React",
        class: "bg-blue-400/20 text-blue-200",
        icon: ReactIcon
    },
    TYPESCRIPT: {
        name: "TypeScript",
        class: "bg-blue-600/20 text-blue-200",
        icon: TypeScriptIcon
    },
    SUPABASE: {
        name: "Supabase",
        class: "bg-indigo-500/20 text-indigo-200",
        icon: SupabaseIcon
    },
    NEXTJS: {
        name: "NextJS",
        class: "bg-black/20 text-gray-200",
        icon: NextJSIcon
    },
    POSTGRESQL: {
        name: "PostgreSQL",
        class: "bg-blue-800/20 text-blue-200",
        icon: PostgresqlIcon
    },
    BASH: {
        name: "Bash",
        class: "bg-gray-700/20 text-gray-300",
        icon: BashIcon
    },
    GITHUB: {
        name: "GitHub Actions",
        class: "bg-purple-500/20 text-purple-200",
        icon: GitHubIcon
    },
    ASTRO: {
        name: "Astro",
        class: "bg-blue-300/20 text-blue-200",
        icon: AstroIcon
    }
}

const PROJECTS = [
    {
        title: "PawnGuard - Cybersecurity Student Group",
        description: "I create with 2 friends, a student cybersecurity group called PawnGuard on Tec de Monterrey Campus Guadalajara, where we share knowledge and organize events related to cybersecurity, linux and networking.",
        date: "Ongoing...",
        link: "https://www.linkedin.com/company/pawnguard",
        github: "",
        image: '417shots_so.webp',
        tags: [TAGS.LINUX, TAGS.NETWORKING]
    },
    {
        title: "Personal Portfolio Website",
        description: "A personal portfolio website built with Astro to showcase my projects and skills. Deployed in my home lab with docker in a raspberry pi 5 with Ubuntu Server on Cloudflare Tunnel and integrating CI/CD pipeline with Github Actions.",
        date: "November, 2025",
        link: "https://blog.v4lde.tech/",
        github: "https://github.com/varfmx21/portfolio-varfmx21",
        image: '829shots_so.webp',
        tags: [TAGS.ASTRO, TAGS.TAILWIND, TAGS.DOCKER, TAGS.CLOUDFARE, TAGS.GITHUB]
    },
    {
        title: "Brute Force Workshop Lab",
        description: "I set up a LAN network with four Cisco switches, deployed vulnerable HTTP and SSH services using Docker on three Linux laptops, and built a controlled environment where participants could safely practice enumeration, brute-force methods, and service exploitation.",
        date: "October, 2025",
        link: "",
        github: "https://github.com/PawnGuard/vulnerableServices.git",
        image: 'brute-force-101.webp',
        tags: [TAGS.NETWORKING, TAGS.DOCKER, TAGS.LINUX, TAGS.CISCO]
    },
    {
        title: "autoHyprland - Automated Hyprland Setup Script",
        description: "I developed a Bash script to automate the installation and configuration of Hyprland for hackers, a dynamic tiling window manager for Linux. The script streamlines the setup process by installing necessary dependencies, configuring system settings, and applying user preferences, making it easier for users to get started with Hyprland.",
        date: "October, 2025",
        link: "",
        github: "https://github.com/varfmx21/autoHyprland",
        image: '285shots_so.webp',
        tags: [TAGS.BASH, TAGS.LINUX]
    },
    {
        title: "CORENET - Network Infrastructure Reengineering",
        description: "I re-engineered the network for Tecnol√≥gico de Monterrey Campus Guadalajara, creating a scalable, segmented infrastructure for over 7,000 devices, deploying 53 Cisco APs and 3 IDFs, and proposing dedicated networks for critical services. The USD $217K solution improved coverage, reliability, and security while strengthening my skills in scalability and segmentation.",
        date: "April, 2025",
        link: "",
        github: "",
        image: '372_1x_shots_so.webp',
        tags: [TAGS.NETWORKING, TAGS.CISCO]
    },
    {
        title: "Connect The Schools - Web Application",
        description: "I helped design and develop a web platform to automate the process of connecting public schools with potential donors in Jalisco, Mexico, working in a 5-member Agile team. Through this project, I gained experience in gathering user requirements and designing and implementing a RESTful API.",
        date: "March, 2025",
        link: "",
        github: "https://github.com/JRV-XVI/connect-the-schools",
        image: '747shots_so.webp',
        tags: [TAGS.NEXTJS, TAGS.TYPESCRIPT, TAGS.POSTGRESQL]
    }
]
---

<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {
        PROJECTS.map((project) => (
            <div class="p-4 bg-white/5 rounded-lg hover:bg-white/10 transition group">
                <img 
                    src={project.image} 
                    alt={project.title} 
                    class="w-full h-48 object-cover rounded-md mb-3 group-hover:scale-105 transition" 
                    loading="lazy"
                />
                <h3 class="text-lg font-semibold mb-2 text-yellow-200/90">{project.title}</h3>
                <p class="text-xs text-gray-400 mb-2">{project.date}</p>
                <p class="text-sm text-gray-300 mb-3">{project.description}</p>
                <div class="flex flex-wrap gap-2 mb-3">
                    {
                        project.tags.map((tag) => {
                            const TagIcon = tag.icon;
                            return (
                                <span class={`inline-flex items-center gap-x-1.5 rounded-full px-2.5 py-1 text-xs font-medium ${tag.class}`}>
                                    <TagIcon class="w-3 h-3" />
                                    {tag.name}
                                </span>
                            )
                        })
                    }
                </div>
                <div class="flex gap-2">
                    {project.link && (
                        <a 
                            href={project.link} 
                            class="flex-1 inline-flex rounded-full border border-white/10 justify-center items-center gap-x-1.5 py-1.5 px-3 bg-white/5 hover:scale-105 hover:bg-white/10 transition text-gray-300 font-medium text-xs"
                            target="_blank" 
                            rel="noopener noreferrer"
                        >
                            View Project
                        </a>
                    )}
                    {project.github && (
                        <a 
                            href={project.github} 
                            class="flex-1 inline-flex rounded-full border border-white/10 justify-center items-center gap-x-1.5 py-1.5 px-3 bg-white/5 hover:scale-105 hover:bg-white/10 transition text-gray-300 font-medium text-xs"
                            target="_blank" 
                            rel="noopener noreferrer"
                        >
                            <GitHubIcon class="w-3 h-3" />
                            GitHub
                        </a>
                    )}
                </div>
            </div>
        ))
    }
</div>